<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dongogong.dao.mybatis.mapper.UserInfoMapper">
   <cache />
  
   <select id="getUserInfoByUserId" resultType="UserInfo">
         SELECT USERINFO.NAME,
            USERINFO.NICKNAME,
            USERINFO.PHONE
         FROM USERINFO
         WHERE USERINFO.USER_ID = #{userId}
   </select>
   
   <select id="getUserInfoByUserIdAndPassword" resultType="UserInfo">
         SELECT USERINFO.NAME,
            USERINFO.NICKNAME,
            USERINFO.PHONE  
         FROM USERINFO
         WHERE USERINFO.USER_ID = #{userId}
            AND USERINFO.PASSWORD = #{password}
   </select>
   
   <insert id ="insertUserInfo">
      INSERT INTO USERINFO (USER_ID, NAME, NICK_NAME, PHONE, PASSWORD)
      VALUES(#{userId}, #{name}, #{nickName}, #{phone}, #{password})
   </insert>
   
   <update id="updateUserInfo" parameterType="UserInfo">
      UPDATE USERINFO SET
         NAME = #{name},
         NICK_NAME = #{nickName},
         PHONE = #{phone},
         PASSWORD = #{password}
      WHERE USER_ID = #{userId}
   </update>
   
   <delete id="deleteUserInfo" parameterType="UserInfo">
      DELETE FROM USERINFO
      WHERE USER_ID = #{userId}
   </delete>
   
   <select id="getUsernameList" resultType="java.lang.String">
      SELECT NAME AS VALUE FROM LOGIN
   </select>
   
     <update id="updateLogin" parameterType="UserInfo">
    UPDATE LOGIN SET PASSWORD = #{password}
    WHERE NAME = #{name}
  </update>

  <insert id="insertLogin" parameterType="UserInfo">
    INSERT INTO LOGIN (PASSWORD,NAME)
    VALUES (#{password}, #{name})
  </insert>
  
   <!--  
   <select id="findUserList" resultType="List<User>">
      SELECT
         USER_ID, NAME, NICK_NAME, PHONE, PASSWORD, INDIVIDUAL_COPORATION_STATUS
      FROM USERINFO
      ORDER BY USER_ID
   </select>
   -->
</mapper>